@model InformacionPersonal.Models.Persona

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<link href="~/Content/bootstrap.min.css" rel="stylesheet" />
<script src="~/Scripts/bootstrap.min.js"></script>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

@*@using (Html.BeginForm("Create", "Personas"))
{
    @Html.AntiForgeryToken()*@
    <form id="frmPersona">
        <div class="form-horizontal">
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
            <div class="form-group">
                @*@Html.LabelFor(model => model.Nombre, htmlAttributes: new { @class = "control-label col-md-2" })*@
                @Html.EditorFor(model => model.Nombre, new { htmlAttributes = new { @class = "form-control", @placeholder = "Nombre" } })
                @Html.ValidationMessageFor(model => model.Nombre)
            </div>

            <div class="form-group">
                @*@Html.LabelFor(model => model.ApellidoPaterno, htmlAttributes: new { @class = "control-label col-md-2" })*@
                @Html.EditorFor(model => model.ApellidoPaterno, new { htmlAttributes = new { @class = "form-control", @placeholder = "Apellido Paterno" } })
                @*@Html.ValidationMessageFor(model => model.ApellidoPaterno, "", new { @class = "text-danger" })*@
            </div>

            <div class="form-group">
                @*@Html.LabelFor(model => model.ApellidoMaterno, htmlAttributes: new { @class = "control-label col-md-2" })*@
                @Html.EditorFor(model => model.ApellidoMaterno, new { htmlAttributes = new { @class = "form-control", @placeholder = "Apellido Materno" } })
                @*@Html.ValidationMessageFor(model => model.ApellidoMaterno, "", new { @class = "text-danger" })*@
            </div>

            <div class="form-group">
                @*@Html.LabelFor(model => model.CURP, htmlAttributes: new { @class = "control-label col-md-2" })*@
                @Html.EditorFor(model => model.CURP, new { htmlAttributes = new { @class = "form-control", @placeholder = "CURP" } })
                @*@Html.ValidationMessageFor(model => model.CURP, "", new { @class = "text-danger" })*@
            </div>

            @*<div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Create" class="btn btn-default" />
                    </div>
                </div>*@
        </div>
    </form>
    <div class="modal-footer">
        <div class="form-group">
            <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>
            <input type="submit" value="Guardar" class="btn btn-success" id="btnSubmit" />
        </div>

    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $('#btnSubmit').on('click', function () {
            var ajaxCallCreateURL = "/Personas/AddUserInfo";
            $.ajax({
                url: ajaxCallCreateURL,
                type: 'POST',
                data: $("#frmPersona").serialize(),
                success: function (data) {
                    if (data) {
                        $(':input', '#frmPersona')
                          .not(':button, :submit, :reset, :hidden')
                          .val('')
                          .removeAttr('checked')
                          .removeAttr('selected');
                    }
                }
            });
        });


        //$(document).ready(function () {
        //    $("#btnSubmit").click(function () {

        //        $("#loaderDiv").show();

        //        var infoPersona = $("frmPersona").serialize();
        //        $.ajax({
        //            type: "GET",
        //            url: "/Personas/Create",
        //            data: infoPersona,
        //            success: function (data) {
        //                $("#loaderDiv").hide();
        //                $("#divModal").modal("hide");
        //                //$('.result').html(data);
        //                alert('Load was performed.');
        //            }
        //        });
        //    });
        //});

        (function ($) {
            $('.field-validation-error').each(function () {
                $(this).parent().addClass('has-error');
            });
        })(jQuery);
    </script>
}